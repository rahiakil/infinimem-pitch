graph TD
    subgraph "Infinimem Operating System"
        A[User Intent & Context] --> B[Reasoning Orchestrator]
        B --> C[Memory Agent<br/>ðŸ¤– Intelligent Context Manager]
        C --> D[Context Window Manager<br/>10M+ tokens active processing]
        D --> E[Semantic Memory Cache<br/>Vector-based relevance ranking]
        E --> F[Corpus Memory<br/>Persistent knowledge base]
        F --> G[Hierarchical Context Packing<br/>Most important = closest to model]
        G --> H[Dynamic Token Allocation<br/>Adaptive context sizing]
        H --> I[Multi-Modal Processing<br/>Text, code, documents, images]
        I --> J[Agent Orchestration Layer<br/>Specialized reasoning agents]
        J --> K[Output Generation<br/>Context-aware responses]
        
        C -.->|Learns & Reasons| C1[Previous Context Analysis<br/>Pattern recognition from history]
        E -.->|Smart Retrieval| E1[Relevance Scoring<br/>Contextual similarity matching]
        F -.->|Knowledge Base| F1[Persistent Memory<br/>Cross-session learning]
        G -.->|Priority Queue| G1[Distance-based Importance<br/>Critical context stays closest]
        H -.->|Cost Optimization| H1[Token Economics<br/>Cost per token â†“ 214x]
        I -.->|Context Expansion| I1[Larger Windows<br/>10M â†’ 50M+ tokens possible]
        
        K --> L[Enhanced Output Quality<br/>Rich contextual understanding]
    end
    
    style A fill:#e3f2fd
    style B fill:#81c784
    style C fill:#4caf50
    style D fill:#2196f3
    style E fill:#9c27b0
    style F fill:#ff9800
    style G fill:#f44336
    style H fill:#795548
    style I fill:#607d8b
    style J fill:#3f51b5
    style K fill:#009688
    style L fill:#8bc34a
    style C1 fill:#c8e6c9
    style E1 fill:#e1bee7
    style F1 fill:#ffe0b2
    style G1 fill:#ffcdd2
    style H1 fill:#d7ccc8
    style I1 fill:#cfd8dc